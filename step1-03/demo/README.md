# Step 1.3 - Введение в JavaScript (Демонстрация)

Вполне возможно создать веб-сайт, используя только HTML и CSS, но как только вам потребуется взаимодействие с пользователем, отличное от ссылок и форм, вам понадобится JavaScript, язык сценариев в Интернете. К счастью, JavaScript немного развился с тех пор, как он был представлен в 90-х годах, и теперь работает практически со всем: веб-приложениями, мобильными приложениями, собственными приложениями, серверами, роботами и ракетными кораблями.

В этой демонстрации мы собираемся охватить несколько основных основ языка, которые помогут нам, когда мы начнем писать наше приложение todo. В конце этой демонстрации мы сможем подсчитать и отобразить номер буквы «а» во входных данных электронной почты. Вот с какой разметкой мы работаем:
```html
<div id="contact-form">
  <label for="email">Email</label><input id="email" type="email"/>
  <input class="submit" value="Submit" type="submit" />
</div>
```

К концу демонстрации мы рассмотрим следующее:
- Переменные
- События
- Функции
- Условные выражения
- Циклы
- Взаимодействие с DOM (объектная модель документа)

## Введение в переменные
Мы можем создать новую переменную с ключевыми словами "var", "let", "const" и использовать их в нашем приложении. Эти переменные могут содержать один из следующих типов значений:

- **boolean**: `true`, `false`
- **number**: `1`, `3.14`
- **string**: `'single quotes'`, `"double quotes"`, or `` `backticks` ``
- **array**: `[ 1, 2, 3, 'hello', 'world']`
- **object**: `{ foo: 3, bar: 'hello' }`
- **function**: `function(foo) { return foo + 1 }`
- **null**
- **undefined**

> [Когда использовать  `var`/`let`/`const`?](https://stackoverflow.com/questions/762011/whats-the-difference-between-using-let-and-var-to-declare-a-variable-in-jav) Используйте `const` для переменных, которые вы никогда не ожидаете изменить, и` let` для чего-либо еще. "Var" в основном больше не используется. См. Ссылку для получения более подробной информации о том, как каждый из них работает.

### Примеры переменных

```js
const myBoolean = true;
const myNumber = 5;
const myString = `Using backticks I can reuse other variables ${myNumber}`;
const myArray = [1, 'cat', false, myString];
const myObject = { key1: 'value1', anotherKey: myArray };
const myFunction = function(myNumberParam) {
  console.log(myNumber + myNumberParam);
};
```

> 206 / 5000
JavaScript - это язык с динамической типизацией, поэтому, если вы изначально сохраняете число в переменной (`let myVar = 0`), вы можете без проблем изменить его, чтобы он содержал строку, просто написав `myVar = 'hello'`. 

### Добавление переменных 

Давайте начнем нашу демонстрацию с добавления переменной в наш [тег скрипта] (https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script). Эта переменная будет глобальной и постоянной.
```js
const match = 'a';
```

## Функции 

Функции - это многоразовые части функциональности. Функции могут принимать входные данные (параметры) и возвращать значения (или ни то, ни другое). Функции можно вызывать из вашей программы, из других функций или из DOM.

В нашем примере мы создадим функцию под названием `displayMatches` (camelCase типичен для функций), и мы будем вызывать эту функцию каждый раз, когда нажимается наша кнопка отправки. На данный момент у нас будет просто вызов нашей функции `alert("I'm Clicked")`, которая представляет собой функцию, которая отображает окно сообщения с предупреждением в вашем браузере.

```js
function displayMatches() {
  alert("I'm Clicked");
}
```

## События 

Сами по себе функции не влияют на страницу. Когда я объявляю функцию "displayMatches" (), я определяю только функцию; На самом деле я его не выполнял.

Чтобы выполнить функцию, нам нужно привязать ее к событию. Существует ряд возможных событий: нажатие клавиатуры, щелчок мышью, загрузка документа и т. д.

### Добавление  слушателей событий
Чтобы прикрепить функцию к событию, мы используем [`addEventListener`](https://developer.mozilla.org/en-US/docs/Web/API/EventListener) вроде такого:

```js
window.addEventListener('load', function() {
  console.log('loaded');
});

window.addEventListener('click', function() {
  console.log('click');
});
```

> [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window) ссылка на все окно, содержащее HTML-документ.

### Обработчики глобальных событий

Если вам кажется, что это немного многословно, вы не одини. Многие из [наиболее распространенных типов событий] (https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers) доступны как свойства элементов. Таким образом, мы можем установить такие свойства, как "onload" или "onclick", следующим образом:

```js
window.onload = function() {
  console.log('loaded!');
};
window.onclick = function() {
  console.log('clicked!');
};
```

> Обратите внимание, что для onload может быть назначена только одна функция, но для "load" может быть добавлено множество прослушивателей событий.

В нашем примере мы хотим запускать функцию при нажатии кнопки. Для этого нам сначала нужно получить ссылку на кнопку. Мы можем использовать метод [`querySelector`] (https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector) предоставленного браузером [` document`] (https: // developer.mozilla.org/en-US/docs/Web/API/Document), чтобы получить эту ссылку. Затем мы можем сделать нашу функцию "displayMatches" обработчиком onclick кнопки.
```js
const button = document.querySelector('.submit');
button.onclick = displayMatches;
```

Вы также можете объединить эти два утверждения следующим образом:
```js
document.querySelector('.submit').onclick = displayMatches;
```

Перезагрузите страницу и нажмите кнопку, чтобы увидеть, как работает ваша функция!
## Итерация

Затем мы обновим нашу функцию, чтобы перебирать строку букв. Мы перебираем каждую букву, используя синтаксис [`for of`] (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of). Позже мы будем использовать реальный ввод, но пока это подтверждает, что наша функция работает.

```js
function displayMatches() {
  const text = 'abcda';
  for (let letter of text) {
    console.log(letter);
  }
}
```

## Условные 

Затем мы хотим сравнить каждую «букву» с нашим глобальным значением «match», и если они совпадают, мы увеличим переменную «matches». Помните, что `letter = match` установит для переменной` letter` значение в `match`, поэтому для сравнения мы используем оператор равенства` == `или оператор строгого равенства` === `.

```js
function displayMatches() {
  const text = 'abcda';
  let matches = 0;
  for (let letter of text) {
    if (letter === match) {
      matches++;
    }
  }
  console.log(matches);
}
```

> В JavaScript безопаснее всего использовать для сравнений строгий `===`, потому что `==` попытается преобразовать операнды в один и тот же тип. Например, `«1» == 1` преобразует «1» в число и возвращает истину. Этот результат имеет смысл, но в некоторых других случаях поведение [не то, что вы ожидали] (https://www.youtube.com/watch?v=et8xNAc2ic8). (См. [Это видео] (https://www.destroyallsoftware.com/talks/wat) для более странного поведения JavaScript.)

## Взаимодействие с DOM

Теперь, когда у нас есть функция, выполняющая всю нашу логику, пришло время подключить ее к нашей DOM с помощью некоторых встроенных функций браузера.

Сначала нам нужно получить ссылку на поле электронной почты в DOM нашего приложения. Для этого я добавил на вход `id`, и мы найдем этот элемент, используя [` getElementById`] (https://developer.mozilla.org/en-US/docs/Web/API/ Document / getElementById) из глобальной переменной document. Эта функция вернет ссылку на этот ввод, и мы можем сохранить ее в переменной `email`.
```js
function displayMatches() {
  const email = document.getElementById('email');
  console.log(email);
  // ...
}
```

Поскольку на самом деле нам нужно значение поля ввода, мы можем установить нашу переменную `text` в строку, содержащуюся в ключе` value` ввода электронной почты. Чтобы увидеть это в действии, в Chrome вы можете щелкнуть правой кнопкой мыши сообщение консоли, созданное приведенным выше кодом, выбрать «сохранить как переменную» и затем ввести  `variableName.value`.

```js
function displayMatches() {
  const email = document.getElementById('email');
  const text = email.value;
  console.log(text);
  // ...
}
```

### Обратная запись значения в DOM

Теперь, когда мы прочитали значения из модели DOM и загрузили их в нашу логику сопоставления, мы готовы вернуть количество совпадений в наше приложение. Для этого нам сначала нужно получить ссылку на нашу кнопку отправки, и, поскольку эта кнопка не имеет идентификатора, мы будем использовать querySelector для ее получения. Эта функция принимает любой допустимый селектор CSS и возвращает первое найденное совпадение.

```js
function displayMatches() {
  // ...
  const submit = document.querySelector('.submit');
}
```

Теперь, когда у нас есть ссылка на ввод для отправки, мы можем установить его значение, содержащее количество совпадений.
```js
function displayMatches() {
  // ...
  const submit = document.querySelector('.submit');
  submit.value = matches + ' matches';
}
```

Мы также могли бы сделать это в одной строке следующим образом:

```js
function displayMatches() {
  // ...
  document.querySelector('.submit').value = matches + ' matches';
}
```
