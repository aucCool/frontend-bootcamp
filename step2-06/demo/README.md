# Step 2.6 - Redux: Привязка реакции (демонстрация)

[Lessons](../../) | [Exercise](../exercise/)

Redux в настоящее время является самой популярной реализацией потока, и в результате экосистема связанных библиотек выросла. Это одна из причин, по которой она является очень популярной библиотекой в продуктах Microsoft.

Различные пользователи GitHub собрали "потрясающие списки" технологий и статей, связанных с Redux. Вот [один такой список](https://github.com/xgrommx/awesome-redux#react---a-javascript-library-for-building-user-interfaces), но перечислить все связанные с этим технологии буквально невозможно.

На этом шаге мы представляем одну полезную библиотеку, которая работает с Redux: [`react-redux`](https://react-redux.js.org/). В то время как код шага 2.5 может использоваться с любой платформой веб-интерфейса, теперь мы будем использовать "react-redux" для подключения магазина к нашему приложению React. В этом процессе есть два этапа:

1. Предоставление магазина для просмотра
2. Сопоставление магазина с реквизитом

## Предоставьте контекст магазина для представлений

Компоненты класса получат доступ к хранилищу Redux через [`<Поставщика>`](https://react-redux.js.org/api/provider) из `react-redux`. Внизу`react-redux " использует контекстный программный интерфейс приложения для передачи хранилища компонентам-потомкам.

```jsx
const store = createStore(reducers);

const App = () => {
  return (
    <Provider store={store}>
      <div>Hello World!</div>
    </Provider>
  );
};
```

## Сопоставление магазина с реквизитом

`react-redux` также обеспечивает[`connect()`](https://react-redux.js.org/api/connect) функцию, которая отображает части дерева состояний и отправляет функции в реквизиты для дочернего компонента React. Давайте посмотрим, как это делается.
```jsx
import { connect } from 'react-redux';

const MyComponent = props => {
  return <div>
    {props.prop1}
    <button onClick={props.action1()}>Click Me</button>
  </div>;
};

const ConnectedComponent = connect(
  state => {
    prop1: state.key1,
    prop2: state.key2
  },
  dispatch => {
    action1: (arg) => dispatch(actions.action1(arg)),
    action2: (arg) => dispatch(actions.action2(arg)),
  }
)(MyComponent);
```

Так что это еще предстоит переварить. Мы пройдемся по разным частям:

1. `<MyComponent>` это простой компонент, который ожидает наличия реквизита, без каких-либо знаний о Redux. Это просто обычный компонент реакции.

3. `connect()` функция принимает несколько аргументов.

   - Первый аргумент отображает части Redux _state tree_ в `<MyComponent>` _props_
   - Вторые аргументы отображают функции отправки в `<MyComponent>` _props_ (обычно используется в качестве обратных вызовов для ответа на взаимодействие с пользователем). 
   
3. Окончательно, `connect()` на самом деле возвращает функцию, которую мы немедленно вызываем, чтобы **украсить** `<MyComponent>` в `<ConnectedComponent>` - это странный синтаксис, поэтому изучите его более внимательно здесь.

> Да, `connect()` это функция, которая принимает функции в качестве аргументов и возвращает функцию, которая принимает компонент и возвращает компонент. Попробуйте сказать это быстро 10 раз. :)
>
## Примечание о производительности

Некоторые люди, проходящие этот буткемпинг, не могут дождаться, когда начнут создавать быстрые приложения с помощью Redux. Производительность не бесплатна, и уж точно не с Redux. Попробуйте перейти по этим ссылкам, чтобы начать работу по этой теме:

https://github.com/markerikson/react-redux-links/blob/master/react-performance.md#redux-performance
